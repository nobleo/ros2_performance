# ros2_performance
## Package goal
Highlight the CPU overhead introduced by using ROS 2 versus Fast RTPS directly. 
Provide data from profiling tools to point where most of the CPU overhead is coming from.
Possibly start a discussion on the ROS 2 middleware design decisions.
## Package summary
This package provides different publisher subscriber setups that generate the same traffic.
ros, rosonenode and rtps all create 20 topics where each topic has 1 publisher and 10 subscribers.
noros and nopub are added for comparison to get an initial idea of overhead generated by different aspects of the ROS 2 stack.

| Binary  | publishers | subscribers | ROS | ROS nodes | ROS timers | DDS participants |
| ------------- | ------------- |------------- |------------- |------------- |------------- |------------- |
| ros | 20  | 200 | yes | 10 | 10 | 10 |
| rosonenode | 20 | 200 | yes | 1 | 1 | 1 |
| nopub | 0  | 0 | yes | 10 | 10 | 10 |
| rtps | 20 | 200 | no | 0 | 0 | 1 |
| noros | 20&ast;  | 200&ast; | no | 0 | 0| 0 |

&ast;C++ implementation no network publishing/subscribing.


Running all examples in isolated docker containers so they can be compared using docker stats gives the following result:
![Alt text](/images/docker_comparison.png?raw=true "Docker comparison of binaries")

## Recreating the issue using Docker



